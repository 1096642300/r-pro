(this["webpackJsonpreact-pro"]=this["webpackJsonpreact-pro"]||[]).push([[11],{1020:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));a(391);var n=a(390),i=(a(343),a(348)),r=(a(989),a(1011)),s=(a(991),a(1014)),l=(a(441),a(1015)),o=(a(169),a(73)),c=(a(172),a(112)),u=a(42),m=a(43),p=a(45),h=a(44),f=a(0),d=a.n(f),g=a(993),b=a.n(g),E=(a(994),a(122)),F=a(395),O=a.n(F),y={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}},R={wrapperCol:{offset:4,span:16}},j=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).initEditor=function(){e.editor=new b.a(e.contentRef.current),e.editor.customConfig.onchange=function(t){e.formRef.current.setFieldsValue({content:t})},e.editor.create()},e.onFinish=function(t){e.setState({isLoading:!0}),t.currentAt=t.currentAt.valueOf(),Object(E.e)(e.props.match.params.id,t).then((function(e){c.a.success(e.msg)})).finally((function(){e.setState({isLoading:!1}),e.props.history.push("/admin/article")}))},e.onFinishFailed=function(e){console.log("Failed:",e)},e.state={isLoading:!1},e.contentRef=Object(f.createRef)(),e.formRef=Object(f.createRef)(),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.location.state||localStorage.getItem("title")||this.props.history.push("/admin/article"),this.initEditor(),this.setState({isLoading:!0}),Object(E.c)(this.props.match.params.id).then((function(t){console.log(t),t.currentAt=O()(t.currentAt),e.formRef.current.setFieldsValue(t),e.editor.txt.html(t.content)})).finally((function(){e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.location.state||JSON.parse(localStorage.getItem("title"));return d.a.createElement(n.a,{title:t&&t.title,extra:d.a.createElement(o.a,{onClick:function(){return e.props.history.goBack()}},"\u8fd4\u56de")},d.a.createElement(i.a,{spinning:this.state.isLoading},d.a.createElement(s.a,Object.assign({ref:this.formRef},y,{name:"basic",initialValues:{title:t.title},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,colon:!1,hideRequiredMark:!1,labelAlign:"right"}),d.a.createElement(s.a.Item,{label:"\u6587\u7ae0\u6807\u9898",name:"title",rules:[{required:!0,message:"Please input article title!"}]},d.a.createElement(l.a,{autoFocus:!0})),d.a.createElement(s.a.Item,{label:"\u9605\u8bfb\u91cf",name:"amount",rules:[{required:!0,message:"Please input article amount!"}]},d.a.createElement(l.a,null)),d.a.createElement(s.a.Item,{label:"\u4f5c\u8005",name:"author",rules:[{required:!0,message:"Please input article author!"}]},d.a.createElement(l.a,null)),d.a.createElement(s.a.Item,{label:"\u53d1\u5e03\u65f6\u95f4",name:"currentAt",rules:[{required:!0,message:"Please input article currentAt!"}]},d.a.createElement(r.a,{showTime:!0})),d.a.createElement(s.a.Item,{label:"\u6587\u7ae0\u5185\u5bb9",name:"content",rules:[{required:!0,message:"Please input article content!"}]},d.a.createElement("div",{className:"qf-editor",ref:this.contentRef})),d.a.createElement(s.a.Item,R,d.a.createElement(o.a,{type:"primary",htmlType:"submit"},"Submit")))))}}]),a}(f.Component)},994:function(e,t,a){}}]);
//# sourceMappingURL=11.1679ceff.chunk.js.map