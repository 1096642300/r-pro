{"version":3,"sources":["actions/actionTypes.js","request/index.js","actions/notifications.js","components/frame/logo.png","components/loading/index.js","views/index.js","routes/index.js","components/frame/index.js","App.js","reducer/notifications.js","reducer/index.js","store.js","index.js"],"names":["MARK_NOTIFICATIONS_BY_ID","MARK_NOTIFICATIONS_ALL","START_NOTIFICATIONS","END_NOTIFICATIONS","GET_NOTIFICATIONS_DATA","config","top","service","axios","create","baseURL","interceptors","request","use","data","authToken","response","res","code","error","errMsg","getArticle","offset","limited","post","deleteArticleById","id","getArticleDetailById","saveArticleById","getNotifications","markNotificationsById","dispatch","startNotifications","setTimeout","type","payload","endNotifiactions","markNotificationsAll","getNotificationsData","then","list","module","exports","index","Component","Article","Loadable","loader","loading","Loading","Dashboard","ArticleEdit","Login","Notfound","Settings","Notifications","mainRoute","pathname","component","admainRoute","title","isNav","icon","DashboardOutlined","exact","OrderedListOutlined","SettingOutlined","menu","filter","route","Header","Content","Footer","Sider","connect","state","notificationsCount","notifications","item","hasRead","length","withRouter","handleMenuClick","key","props","history","push","onClick","Item","dot","Boolean","handleMenu","this","selectedKeysArr","location","split","className","src","Logo","alt","overlay","e","preventDefault","count","style","position","DownOutlined","padding","margin","width","mode","defaultSelectedKeys","selectedKeys","join","height","map","minHeight","children","textAlign","App","path","to","from","initState","isLoading","reducer","action","combineReducers","createStore","applyMiddleware","thunk","ReactDOM","render","store","locale","zhCN","document","getElementById"],"mappings":"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","file":"static/js/main.2ba2cbd6.chunk.js","sourcesContent":["export const MARK_NOTIFICATIONS_BY_ID = \"MARK_NOTIFICATIONS_BY_ID\"\r\nexport const MARK_NOTIFICATIONS_ALL = \"MARK_NOTIFICATIONS_ALL\"\r\nexport const START_NOTIFICATIONS = \"START_NOTIFICATIONS\"\r\nexport const END_NOTIFICATIONS = \"END_NOTIFICATIONS\"\r\nexport const GET_NOTIFICATIONS_DATA = \"GET_NOTIFICATIONS_DATA\"  ","//使用axios进行异步操作\r\nimport axios from \"axios\"\r\nimport {message} from \"antd\"\r\nmessage.config({\r\n    top: 200\r\n})\r\nconst service = axios.create({\r\n    baseURL:\"http://rap2.taobao.org:38080/app/mock/251909\"\r\n})\r\n\r\n//axios的拦截器\r\n//请求之前的拦截\r\n//我们可以在发送请求之前，可以在请求头上面携带一些信息例如token，将其转送给后端，进行token验证操作。\r\nservice.interceptors.request.use(config=>{\r\n    // console.log(\"request-config\",config)\r\n    //后续authToken值肯定需要从本地存储取出来，然后再去发给后端\r\n    config.data = {...config.data,authToken:\"adjlsajdlaoeuasd\"}\r\n    return config\r\n})\r\n\r\n\r\n\r\n\r\n//响应之后的拦截\r\nservice.interceptors.response.use(res=>{\r\n    // console.log(\"response-res\",res)\r\n    if(res.data.code === 200){\r\n        return res.data.data\r\n    }else{\r\n        message.error(res.data.errMsg)\r\n    }\r\n})\r\n\r\n\r\n\r\n//请求文章列表数据\r\nexport const getArticle = (offset,limited)=>{\r\n    return service.post(\"/api/v1/articleList\",{offset,limited})\r\n}\r\n\r\n//删除文章根据id\r\nexport const deleteArticleById = id =>{\r\n    return service.post(`/api/v1/articleDelete/${id}`)\r\n}\r\n\r\n\r\n//根据id查询编辑文章的详情信息\r\nexport const getArticleDetailById = (id) => {\r\n    return service.post(`/api/v1/article/${id}`)\r\n}\r\n\r\n//根据id与对应的入参进行文章保存\r\nexport const saveArticleById = (id,data) =>{\r\n    return service.post(`/api/v1/articlesave/${id}`,data)\r\n}\r\n\r\n\r\n//定义获取通知中心数据接口\r\nexport const getNotifications = ()=>{\r\n    return service.post(`/api/v1/notifications`)\r\n}","import {\r\n    MARK_NOTIFICATIONS_BY_ID,\r\n    MARK_NOTIFICATIONS_ALL,\r\n    START_NOTIFICATIONS,\r\n    END_NOTIFICATIONS,\r\n    GET_NOTIFICATIONS_DATA\r\n} from \"./actionTypes\"\r\nimport {getNotifications} from \"../request\"\r\nexport const markNotificationsById = id=>{\r\n    return dispatch=>{\r\n        //调用startNotifications,isLoading => true\r\n        dispatch(startNotifications())\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type:MARK_NOTIFICATIONS_BY_ID,\r\n                payload:{\r\n                    id\r\n                }\r\n            })\r\n            //异步请求完毕数据后\r\n            dispatch(endNotifiactions())\r\n        }, 1000);\r\n    }\r\n}\r\n\r\n\r\nexport const markNotificationsAll = ()=>{\r\n    return dispatch=>{\r\n        dispatch(startNotifications())\r\n        setTimeout(() => {\r\n            dispatch({type:MARK_NOTIFICATIONS_ALL})\r\n            dispatch(endNotifiactions())\r\n        }, 1000);\r\n    }\r\n}\r\n\r\nconst startNotifications = ()=>{\r\n    return {\r\n        type:START_NOTIFICATIONS\r\n    }\r\n}\r\nconst endNotifiactions = ()=>{\r\n    return {\r\n        type:END_NOTIFICATIONS\r\n    }\r\n}\r\n\r\n\r\n//异步请求获取通知中心数据\r\nexport const getNotificationsData = ()=>{\r\n    return dispatch=>{\r\n        dispatch(startNotifications())\r\n        getNotifications().then(res=>{\r\n            dispatch({\r\n                type: GET_NOTIFICATIONS_DATA,\r\n                payload:{\r\n                    list:res.list\r\n                }\r\n            })\r\n            dispatch(endNotifiactions())\r\n        })\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/logo.984f4c53.png\";","import React, { Component } from 'react'\r\n\r\nexport default class index extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                Loading....!!!!!!!!!!!!!!!!!!!!!!!\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import Loadable from 'react-loadable';\r\nimport Loading from '../components/loading';\r\n//需要将对外的普通组件需要进行懒加载\r\nconst Article = Loadable({\r\n    loader: () => import('./article'),\r\n    loading: Loading,\r\n});\r\nconst Dashboard = Loadable({\r\n    loader: () => import('./dashboard'),\r\n    loading: Loading,\r\n});\r\nconst ArticleEdit = Loadable({\r\n    loader: () => import('./article/Edit'),\r\n    loading: Loading,\r\n});\r\nconst Login = Loadable({\r\n    loader: () => import('./login'),\r\n    loading: Loading,\r\n});\r\nconst Notfound = Loadable({\r\n    loader: () => import('./notfound'),\r\n    loading: Loading,\r\n});\r\nconst Settings = Loadable({\r\n    loader: () => import('./settings'),\r\n    loading: Loading,\r\n});\r\nconst Notifications = Loadable({\r\n    loader:()=>import(\"./notifications\"),\r\n    loading:Loading\r\n})\r\n\r\n\r\nexport  {\r\n    Article,\r\n    ArticleEdit,\r\n    Dashboard,\r\n    Login,\r\n    Notfound,\r\n    Settings,\r\n    Notifications\r\n}\r\n","import  {\r\n    Article,\r\n    ArticleEdit,\r\n    Dashboard,\r\n    Login,\r\n    Notfound,\r\n    Settings,\r\n    Notifications\r\n} from \"../views\"\r\n\r\n\r\n//使用antd里面的icon图标\r\nimport {\r\n    DashboardOutlined,\r\n    OrderedListOutlined,\r\n    SettingOutlined\r\n} from '@ant-design/icons';\r\nimport React from \"react\"\r\n\r\nexport const mainRoute = [\r\n    {\r\n        pathname:\"/login\",\r\n        component:Login\r\n    },\r\n    {\r\n        pathname:\"/404\",\r\n        component:Notfound\r\n    }\r\n]\r\n\r\n\r\n// /admin/XXX   dashboard article articleEdit settings\r\nexport const admainRoute = [\r\n    {\r\n        pathname:\"/admin/dashboard\",\r\n        component:Dashboard,\r\n        title:\"仪表盘\",\r\n        isNav:true,\r\n        icon:<DashboardOutlined />\r\n    },\r\n    {\r\n        pathname:\"/admin/article\",\r\n        component:Article,\r\n        exact:true,\r\n        title:\"文章列表\",\r\n        isNav:true,\r\n        icon:<OrderedListOutlined />\r\n    },\r\n    {\r\n        pathname:\"/admin/article/edit/:id\",\r\n        component:ArticleEdit,\r\n    },\r\n    {\r\n        pathname:\"/admin/notifications\",\r\n        component:Notifications,\r\n    },\r\n    {\r\n        pathname:\"/admin/settings\",\r\n        component:Settings,\r\n        title:\"设置\",\r\n        isNav:true,\r\n        icon:<SettingOutlined />\r\n    },\r\n]","import React, { Component } from 'react'\r\nimport { Layout, Menu, Breadcrumb,Dropdown,Avatar,Badge} from 'antd';\r\nimport Logo from \"./logo.png\"\r\nimport \"./index.less\"\r\nimport {admainRoute} from \"../../routes\"\r\nimport {withRouter} from \"react-router-dom\"\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport {connect} from \"react-redux\"\r\nimport {getNotificationsData} from \"../../actions/notifications\"\r\nconst menu = admainRoute.filter(route=>route.isNav === true) \r\nconst { Header, Content, Footer, Sider } = Layout;\r\n\r\n\r\nconst mapsState = state=>{\r\n    return {\r\n        notificationsCount: state.notifications.list.filter(item=>item.hasRead === false).length\r\n    }\r\n}\r\n\r\n@connect(mapsState,{getNotificationsData})\r\n@withRouter\r\nclass index extends Component {\r\n\r\n    componentDidMount(){\r\n        this.props.getNotificationsData()\r\n    }\r\n\r\n    handleMenuClick = ({key})=>{\r\n        this.props.history.push(key)\r\n    }\r\n    //成员方法\r\n    menu = ()=>{\r\n        return (\r\n            <Menu onClick={this.handleMenuClick}>\r\n                <Menu.Item key={\"/admin/notifications\"}>\r\n                    {/* <Badge dot={this.props.notificationsCount === 0 ? false : true}>\r\n                        通知中心\r\n                    </Badge> */}\r\n                    <Badge dot={Boolean(this.props.notificationsCount)}>\r\n                        通知中心\r\n                    </Badge>\r\n                </Menu.Item>\r\n                <Menu.Item key={\"/admin/settings\"}>\r\n                    个人设置\r\n                </Menu.Item>\r\n                <Menu.Item key={\"/login\"}>\r\n                    退出\r\n                </Menu.Item>\r\n            </Menu>\r\n        )\r\n    }\r\n\r\n    //当我们点击Menu.Item的时候会触发   路由相关的api history location match\r\n    handleMenu = ({key})=>{   \r\n        this.props.history.push(key)\r\n    }\r\n    render() {\r\n        let selectedKeysArr = this.props.location.pathname.split(\"/\")\r\n        selectedKeysArr.length = 3\r\n        return (\r\n            <Layout>\r\n                <Header className=\"header qf-header\">\r\n                    <div className=\"logo\" >\r\n                        <img  src={Logo} alt=\"logo\"/>\r\n                    </div>\r\n                    <Dropdown overlay={this.menu()}>\r\n                        <div className=\"ant-dropdown-link\" onClick={e => e.preventDefault()}>\r\n                            <Badge count={this.props.notificationsCount} offset={[0,0]}>\r\n                                <Avatar style={{position:'relative',top:-2}} src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\r\n                                <span>欢迎您：小佩琪</span> \r\n                                <DownOutlined />\r\n                            </Badge>\r\n                        </div>\r\n                    </Dropdown>\r\n                </Header>\r\n                <Content style={{ padding: '0 50px' }}>\r\n                <Breadcrumb style={{ margin: '16px 0' }}>\r\n                    <Breadcrumb.Item>Home</Breadcrumb.Item>\r\n                    <Breadcrumb.Item>List</Breadcrumb.Item>\r\n                    <Breadcrumb.Item>App</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <Layout className=\"site-layout-background\" style={{ padding: '24px 0' }}>\r\n                    <Sider className=\"site-layout-background\" width={200}>\r\n                    <Menu\r\n                        mode=\"inline\"\r\n                        defaultSelectedKeys={[menu[0].pathname]}\r\n                        selectedKeys={[selectedKeysArr.join(\"/\")]}\r\n                        style={{ height: '100%' }}\r\n                        onClick = {this.handleMenu}\r\n                    >\r\n                        {\r\n                            menu.map(route=>{\r\n                                return (\r\n                                    <Menu.Item key={route.pathname}>\r\n                                        {route.icon}\r\n                                        {route.title}\r\n                                    </Menu.Item>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Menu>\r\n                    </Sider>\r\n                    <Content style={{ padding: '0 24px', minHeight: 280 }}>{this.props.children}</Content>\r\n                </Layout>\r\n                </Content>\r\n                <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default  index","import React, { Component } from 'react'\nimport {admainRoute} from \"./routes\"\nimport {Route,Redirect,Switch} from \"react-router-dom\"\n//引入布局frame\nimport Frame from \"./components/frame\"\nexport default class App extends Component {\n  render() {\n    return (\n      <>\n        <Frame>\n          <Switch>\n            {\n              admainRoute.map(route=>{\n                return <Route key={route.pathname} path={route.pathname} component={route.component} exact={route.exact}/>\n              })\n            }\n            <Redirect to={admainRoute[0].pathname} from=\"/admin\" exact/>\n            <Redirect to=\"/404\" />\n          </Switch> \n        </Frame>\n      </>\n    )\n  }\n}\n","\r\n//reducer必须是一个纯函数  固定的输入必须要有固定的输出，内部不能有不纯的操作 new Date Math.random() \r\n//内部不能有IO操作 、异步操作\r\n//千万不能去更改之前的状态  \r\nimport {\r\n    MARK_NOTIFICATIONS_BY_ID,\r\n    MARK_NOTIFICATIONS_ALL,\r\n    START_NOTIFICATIONS,\r\n    END_NOTIFICATIONS,\r\n    GET_NOTIFICATIONS_DATA\r\n} from \"../actions/actionTypes\"\r\nconst initState = {\r\n    isLoading:false,  //用来控制loading的状态\r\n    list:[]\r\n}\r\n\r\nconst reducer = (state=initState,action)=>{\r\n    switch(action.type){\r\n        case GET_NOTIFICATIONS_DATA:\r\n            return {\r\n                ...state,\r\n                list:action.payload.list\r\n            }\r\n        case START_NOTIFICATIONS:\r\n            return {\r\n                ...state,\r\n                isLoading:true\r\n            }\r\n        case END_NOTIFICATIONS:\r\n            return {\r\n                ...state,\r\n                isLoading:false\r\n            }\r\n        case MARK_NOTIFICATIONS_BY_ID:\r\n            return {\r\n                ...state,\r\n                list:state.list.map(item=>{  // ===  [{id:1,title,desc,hasRead:true},{xxxx,hasRead:true}]\r\n                    if(item.id === action.payload.id){\r\n                        item.hasRead = true\r\n                    }\r\n                    return item\r\n                })\r\n            }\r\n        case MARK_NOTIFICATIONS_ALL:\r\n            return {\r\n                ...state,\r\n                list:state.list.map(item=>{\r\n                    item.hasRead = true \r\n                    return item\r\n                })\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default reducer\r\n","import {combineReducers} from \"redux\"\r\nimport notifications from \"./notifications\"\r\nconst reducer = combineReducers({\r\n    notifications\r\n})\r\nexport default reducer","import {createStore,applyMiddleware} from \"redux\"\r\nimport reducer from \"./reducer\"\r\nimport thunk from \"redux-thunk\"\r\nexport default createStore(reducer,applyMiddleware(thunk))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {HashRouter as Router,Route,Redirect,Switch} from \"react-router-dom\"\nimport {mainRoute} from \"./routes\"\nimport \"./index.less\"\nimport zhCN from 'antd/es/locale/zh_CN';\nimport {ConfigProvider} from \"antd\"\nimport {Provider} from \"react-redux\"\nimport store from \"./store\"\nReactDOM.render(\n  <Provider store={store}>\n    <ConfigProvider locale={zhCN}>\n      <Router>\n        <Switch>\n          <Route path=\"/admin\" component={App}/> \n          {\n            mainRoute.map(route=>{\n              return <Route  key={route.pathname} path={route.pathname} component={route.component}/>\n            })\n          }\n          <Redirect to=\"/admin\" from=\"/\" exact/>\n          <Redirect to=\"/404\" />\n        </Switch>\n      </Router>\n    </ConfigProvider>\n  </Provider>\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}